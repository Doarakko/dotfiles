---
name: extract-learnings
description: タスク完了時に、やり取りからCLAUDE.mdやコーディング規約に追記すべき知見がないか確認する
allowed-tools: Read, Edit, Write, Glob, Grep, AskUserQuestion
---

# 知見抽出スキル

タスク完了後に実行し、今回のやり取りから得られた知見をドキュメントに反映する。

## 実行手順

### 1. 知見の抽出

今回のやり取りを振り返り、以下の観点で追記すべき知見を特定する：

- **バグ修正から得た教訓**: 同じミスを防ぐためのルール
- **コーディングパターン**: プロジェクト固有の書き方やベストプラクティス
- **ツール・コマンドの使い方**: 開発で役立つコマンドや設定
- **レビュー指摘事項**: 繰り返し指摘される問題への対策
- **アーキテクチャ決定**: 設計上の重要な判断とその理由

### 2. 追記先の判断

| 知見の種類 | 追記先 |
|-----------|--------|
| Claude固有の指示（ツールの使い方、禁止事項等） | CLAUDE.md |
| コーディングスタイル、命名規則 | コーディング規約 |
| プロジェクト構成、アーキテクチャ | CLAUDE.mdまたはREADME |
| 言語・フレームワーク固有のルール | コーディング規約 |

### 3. ユーザーへの確認

追記すべき知見がある場合、AskUserQuestionツールを使って以下を確認：

1. 追記する知見の内容
2. 追記先ファイル
3. 追記の承認

**確認時のフォーマット例:**

```
今回のやり取りから以下の知見を抽出しました：

【知見】
- [具体的な内容]

【追記先】
- CLAUDE.md / コーディング規約 / その他

追記してよいですか？
```

### 4. 知見がない場合

追記すべき知見が特にない場合は、その旨をユーザーに伝えて終了する。
無理に知見を捻り出す必要はない。

## 注意事項

- 既にドキュメントに記載されている内容は追記しない
- 一般的すぎる内容（「テストを書く」等）は追記しない
- プロジェクト固有の具体的な知見のみを対象とする
- 追記は必ずユーザーの承認を得てから行う
